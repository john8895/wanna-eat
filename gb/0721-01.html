<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="chart"></div>


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.7.18/c3.min.css"
      integrity="sha512-cznfNokevSG7QPA5dZepud8taylLdvgr0lDqw/FEZIhluFsSwyvS81CMnRdrNSKwbsmc43LtRd2/WMQV+Z85AQ=="
      crossorigin="anonymous"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.16.0/d3.min.js"
        integrity="sha512-FHsFVKQ/T1KWJDGSbrUhTJyS1ph3eRrxI228ND0EGaEp6v4a/vGwPWd3Dtd/+9cI7ccofZvl/wulICEurHN1pg=="
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.7.18/c3.min.js"
        integrity="sha512-bW79RVtvrrTS2QzmDsJeh62Nt4b/RjYlYvi2iEmkXPhzzbXMx69JT/zHgiGcL1Tk5nkLMTF6xkEUuynTkdC9PQ=="
        crossorigin="anonymous"></script>
<script>
    var serverData = [
        {
            name: "總公司每月討債業務",
            seasonOneData: [500000, 1300000],
            seasonTwoData: [2000000, 300000, 500000]
        },
        {
            name: "黑道大哥業績",
            seasonOneData: [30000, 100000],
            seasonTwoData: [300000, 50000, 100000]
        }
    ];
    var data = [];
    //以上程式碼不可更動
    // serverData.forEach((oneSet) => {
    //   let oneSetArray = Object.values(oneSet).flat();
    //   data.push(oneSetArray);
    // });

    // serverData.forEach(item=>{
    //     data.push(Object.values(item).flat())
    // })
    // console.log(data)


    // 請用 serverData 跑 forEach，依序將組好的陣列增加到 data 陣列後方
    // 修改範圍開始
    // serverData.forEach(item=>{
    //     console.log([item.name, ...item.seasonOneData, ...item.seasonTwoData])
    //     data.push([item.name, ...item.seasonOneData, ...item.seasonTwoData])
    // })
    // console.log(data)

    // serverData.forEach(item=>{
    //     let newArr=[];
    //     for (let k in item) {
    //         if(k === 'name'){
    //             newArr.push(item[k])
    //         }else{
    //             newArr.push(...item[k])
    //         }
    //     }
    //     data.push(newArr);
    // })
    //
    // console.log(data)
































    // serverData.forEach((item) => {
    //     let newArr = [];
    //     for (i in item) {
    //         if (i === "name") {
    //             newArr.push(item[i]);
    //         } else {
    //             newArr.push(...item[i]);
    //         }
    //     }
    //     data.push(newArr);
    // });

    // console.log(data);

    //更好寫法(參考Jin):
    // serverData.forEach(item => {
    //   data.push([item.name, ...item.seasonOneData, ...item.seasonTwoData]);
    // })

    //參考御燐
    // serverData.forEach((oneSet) => {
    //   let oneSetArray = Object.values(oneSet).flat();
    //   data.push(oneSetArray);
    // });

    // 修改範圍結束

    // 以下程式碼不可更動

    var chart = c3.generate({
        bindto: "#chart",
        data: {
            columns: data
        }
    });

    // 提示 data 必須組成以下格式，圖表才會呈現

    // data = [
    //   ["總公司每月討債業務",500000, 1300000,2000000,300000,500000],
    //   ["黑道大哥業績",30000,100000,300000,50000,100000]
    // ]

</script>
</body>
</html>