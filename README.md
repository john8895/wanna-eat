## 專案介紹

- 名稱：今天要吃啥？
- 版本：v2.0
- 開發時程：
    - 初版(核心功能)：2020/7-2020/12 共 360 小時
    - 之後隨同事反映與建議，逐步改進網站功能，目前仍持續更新中。

## 專案簡述

這是一個 PHP 團購系統，採用 PHP Smarty Template + MySQL + Vue 3，初版開發時間 360 小時。辦公室每天訂便當都會遇到兩個問題：訂餐跟收錢，為了解決這個問題，我才萌生製作本專案的想法。最初花 3 週時間製作第一版，將資料轉為 String 以當天日期為 ID 存入 Localstorage，可上傳圖片、統計同名餐點且可記錄付款狀態；後來學到新技術就把網站升級為 2.0，並加入很多方便好用的功能。

## 資訊

1. DEMO網址：[https://eat.ahan-home.com](https://eat.ahan-home.com)
2. Github：[https://github.com/john8895/wanna-eat/](https://github.com/john8895/wanna-eat/)
3. 未上線新功能請見 `feat` 分支
4. LineBot 分支：[https://github.com/john8895/line-bot](https://github.com/john8895/line-bot)

## 主要功能

### 使用者

- 使用者可以選擇任意店家發起團購單，設定團購負責人、收單時間及開團說明。
- 使用者可以參與團購單訂購，輸入姓名、餐點名、價格、數量及備註。
- 使用者可以在訂購單上看到即時的訂單統計，可即時合併同名餐點、加總小計與總額並列出所有人的備註，點選表格可高亮顯示，方便訂餐者跟店家核對資料，訂單擷圖功能可直接傳群組或下載列印。
- 使用者可以檢視已收單的歷史團購單，並隨時恢復訂購狀態。
- 使用者可以對訂單進行已付款或未付款的標記。(使用少，已移除此功能)

### 管理者

- 管理者可以對餐廳進行新增、修改及刪除的操作，並設定店家標籤。
- 管理者可以對團購單進行新增、修改及刪除的操作。
- 管理者可以對團購負責人進行新增及刪除的操作。

## 開發中功能(一旦開發完成即會merge)

### 系統功能

- 首頁改為瀑布流載入。
- 實現頁碼功能。
- 訂單擷圖後彈出燈箱效果
- 即時聊天室功能

### 使用者

- 使用者可以用 LINE 參與已建立的團購。(已完成，待推出)
- 使用者可以建立個人帳號，針對店家發表評價。
- 使用者可以註冊個人帳號，上傳頭像及修改暱稱。
- 使用者可以建立群組，自訂群組名稱及密碼，供自已的家人或公司同事使用。

### 管理者

- 管理者有自已的專屬後台介面

## 架設方式：

環境：初版架設於 PHP 5.26 + MySQL ，現已更新為 PHP 7.4，如要使用 <7 ，需修改關於 jsondecode 及部份語法。

### 一、Clone

```bash
$ git clone https://github.com/john8895/wanna-eat.git
```

### 二、設定資料庫連接資訊，可設定本機及遠端，以註解切換

路徑：wanna-eat/assets/inc/Config.php

```bash
<?php
// Localhost
define('DB_HOST', '127.0.0.1');
define('DB_NAME', 'wannaeat');
define('DB_USER', 'username');
define('DB_PASSWORD', 'password');

// Remote Server
//define('DB_HOST', 's-cdbr-east-02.cleardb.com');
//define('DB_NAME', 'heroku_a1d5f5db83503a4');
//define('DB_USER', 'b526cf82710b1f');
//define('DB_PASSWORD', '54af1c19');

// 時區 - 如未設定從mysql讀出的中文數據會變亂碼
date_default_timezone_set("Asia/Taipei");
```

### 三、建立資料庫

建立資料庫後，匯入以下SQL即可建立資料表及測試資料

`wanna-eat/sql/build.sql`

## 作品授權

採用 GNU GPLv3 授權，可下載本專案架設於公司內網

## 心得

「今天要吃啥？v2.0」是繼「口罩地圖」後又一個對我來說稍有規模的專案，以前我曾學過 PHP ，但因接觸不深一知半解，這次為了製作出可以讓同事使用的訂餐系統，特意認真學習 PHP，透過實做學習常用的 PHP 函數及邏輯處理並自己寫 API 再用 AJAX 串接。

這個專案讓我對 PHP、JS、AJAX 等技術的熟練度提升不少，也發現滿多不足之處，像是程式邏輯的條理性與架構不理想，所以當近專案尾聲時，修改功能或修正 Bug 時有滿多不便，代碼中重複性過高，很多東西應該都可以改寫以大幅重用。

這個專案是獨力完成的，遇到不懂的就上網查，真的沒辦法才尋求後端同事幫忙，有時候我苦思兩、三天的問題，他們只需要五分鐘就解決了，真是令人佩服。

未來希望採用的技術是，後端採用 PHP Laravel + OOP，前端採用 Vue，用更新、更高效的工具與技術來處理專案。